var e,r=function(){function e(e,r){this.json=e,this.resources=r}return e.prototype.resolveURI=function(e){return this.resources[e]},e.addImage=function(e,r,n,t){var o,u;switch(t){case"image/jpeg":o=r+".jpg",u="image/jpeg";break;case"image/png":o=r+".png",u="image/png";break;default:throw new Error('Unsupported image type, "'+t+'".')}return e.json.images.push({name:r,mimeType:u,uri:o}),e.resources[o]=n,e},e.removeImage=function(e,r){var n=e.json.textures.filter(function(e){return e.source===r});if(n.length)throw new Error("Image is in use by "+n.length+" textures and cannot be removed.");if(!e.resolveURI(e.json.images[r].uri))throw new Error("No such image, or image is embedded.");return e.json.images.splice(r,1),e.json.textures.forEach(function(e){e.source>r&&e.source--}),e},e.addBuffer=function(e,r,n){var t=r+".bin";return e.json.buffers.push({name:r,uri:t,byteLength:n.byteLength}),e.resources[t]=n,e},e.removeBuffer=function(e,r){var n=e.json.bufferViews.filter(function(e){return e.buffer===r});if(n.length)throw new Error("Buffer is in use by "+n.length+" bufferViews and cannot be removed.");var t=e.json.buffers[r];return e.json.buffers.splice(r,1),delete e.resources[t.uri],e},e}();!function(e){e[e.NONE=3]="NONE",e[e.ERROR=2]="ERROR",e[e.WARNING=1]="WARNING",e[e.INFO=0]="INFO"}(e||(e={}));var n=function(){function r(e,r){this.name=e,this.verbosity=r}return r.prototype.info=function(r){this.verbosity>=e.INFO&&console.log(this.name+": "+r)},r.prototype.warn=function(r){this.verbosity>=e.WARNING&&console.warn(this.name+": "+r)},r.prototype.error=function(r){this.verbosity>=e.ERROR&&console.error(this.name+": "+r)},r}(),t=function(){function e(){}return e.wrapGLTF=function(e,n){return new r(e,n)},e.wrapGLB=function(e){throw new Error("Not implemented.")},e.bundleGLTF=function(e){return{json:e.json,resources:e.resources}},e.bundleGLB=function(e){throw new Error("Not implemented.")},e.createBuffer=function(){return"undefined"==typeof Buffer?new ArrayBuffer(0):new Buffer([])},e.createBufferFromDataURI=function(e){if("undefined"==typeof Buffer){for(var r=atob(e.split(",")[1]),n=new Uint8Array(r.length),t=0;t<r.length;t++)n[t]=r.charCodeAt(t);return n.buffer}return new Buffer(e.split(",")[1],"base64")},e.createLogger=function(e,r){return new n(e,r)},e}();export{t as GLTFUtil,r as GLTFContainer,n as Logger,e as LoggerVerbosity};
//# sourceMappingURL=gltf-transform.module.js.map
