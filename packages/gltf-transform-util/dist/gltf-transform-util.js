var e,r=function(){function e(e,r){this.json=e,this.resources=r}return e.prototype.resolveURI=function(e){return this.resources[e]},e.prototype.addImage=function(e,r,t){var n,o;switch(t){case"image/jpeg":n=e+".jpg",o="image/jpeg";break;case"image/png":n=e+".png",o="image/png";break;default:throw new Error('Unsupported image type, "'+t+'".')}return this.json.images.push({name:e,mimeType:o,uri:n}),this.resources[n]=r,this},e.prototype.removeImage=function(e){var r=this.json.textures.filter(function(r){return r.source===e});if(r.length)throw new Error("Image is in use by "+r.length+" textures and cannot be removed.");if(!this.resolveURI(this.json.images[e].uri))throw new Error("No such image, or image is embedded.");return this.json.images.splice(e,1),this.json.textures.forEach(function(r){r.source>e&&r.source--}),this},e.prototype.addBuffer=function(e,r){var t=e+".bin";return this.json.buffers.push({name:e,uri:t,byteLength:r.byteLength}),this.resources[t]=r,this},e.prototype.removeBuffer=function(e){var r=this.json.bufferViews.filter(function(r){return r.buffer===e});if(r.length)throw new Error("Buffer is in use by "+r.length+" bufferViews and cannot be removed.");var t=this.json.buffers[e];return this.json.buffers.splice(e,1),delete this.resources[t.uri],this},e.prototype.addAccessor=function(e,r,t){throw new Error("Not implemented.")},e.prototype.getAccessorArray=function(e){var r,t,n,o=this.json.accessors[e],s=this.json.bufferViews[o.bufferView],i=this.resources[this.json.buffers[s.buffer].uri];switch(o.type){case"VEC4":r=4;break;case"VEC3":r=3;break;case"VEC2":r=2;break;default:throw new Error("Accessor type "+o.type+" not implemented.")}switch(o.componentType){case 5126:return t=Float32Array.BYTES_PER_ELEMENT,n=i.slice(s.byteOffset+o.byteOffset,o.count*r*t),new Float32Array(n);case 5125:return t=Uint32Array.BYTES_PER_ELEMENT,n=i.slice(s.byteOffset+o.byteOffset,o.count*r*t),new Uint32Array(n);case 5123:return t=Uint16Array.BYTES_PER_ELEMENT,n=i.slice(s.byteOffset+o.byteOffset,o.count*r*t),new Uint16Array(n);default:throw new Error("Accessor componentType "+o.componentType+" not implemented.")}},e}();(e=exports.LoggerVerbosity||(exports.LoggerVerbosity={}))[e.NONE=3]="NONE",e[e.ERROR=2]="ERROR",e[e.WARNING=1]="WARNING",e[e.INFO=0]="INFO";var t=function(){function e(e,r){this.name=e,this.verbosity=r}return e.prototype.info=function(e){this.verbosity>=exports.LoggerVerbosity.INFO&&console.log(this.name+": "+e)},e.prototype.warn=function(e){this.verbosity>=exports.LoggerVerbosity.WARNING&&console.warn(this.name+": "+e)},e.prototype.error=function(e){this.verbosity>=exports.LoggerVerbosity.ERROR&&console.error(this.name+": "+e)},e}(),n=function(){function e(){}return e.wrapGLTF=function(e,t){return new r(e,t)},e.wrapGLB=function(e){throw new Error("Not implemented.")},e.bundleGLTF=function(e){return{json:e.json,resources:e.resources}},e.bundleGLB=function(e){throw new Error("Not implemented.")},e.createBuffer=function(){return"undefined"==typeof Buffer?new ArrayBuffer(0):new Buffer([])},e.createBufferFromDataURI=function(e){if("undefined"==typeof Buffer){for(var r=atob(e.split(",")[1]),t=new Uint8Array(r.length),n=0;n<r.length;n++)t[n]=r.charCodeAt(n);return t.buffer}return new Buffer(e.split(",")[1],"base64")},e.createLogger=function(e,r){return new t(e,r)},e}();exports.GLTFUtil=n,exports.GLTFContainer=r,exports.Logger=t;
//# sourceMappingURL=gltf-transform-util.js.map
